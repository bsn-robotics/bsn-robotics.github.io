<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" href="style.css" type="text/css">
    <title>4chapter</title>
  </head>
  <body><page size="A4">
      <h1>4 Практическая реализация разработанных алгоритмов</h1>
      <br>
      <!--Диссертация 1 стр 136-->
      <p> </p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Данный раздел работы посвящен
              практической реализации разработанных алгоритмов. Для этого был
              применен пакет программ,&nbsp; реализован программный драйвер
              мобильного робота, кроме того, для экспериментов был изготовлен
              действующий макет мобильного робота.</font></font></font></p>
      <h2>4.1 Робототехническая платформа для испытания разработанных алгоритмов</h2>
      <p> </p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">обот представляет собой
              трехколесную платформу собственной разработки, основой платформы
              является гироскутер “Smartbalance 10”. Два колеса ведущие, третье
              колесо ведомое (см. рисунки 19, 20). Характеристики платформы
              приведены в таблице 2.</font></font></font></p>
      <p><img style="width: 488px; height: 324px;" longdesc="02" title="02" alt="02"
          src="img/chapter4_02.JPG"></p>
      <p>Рисунок 19 – Внешний вид робототехнической платформы сзади</p>
      <p> </p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Платформа оснащена бортовым
              аккумулятором напряжением 36 В для питания двух электродвигателей
              гироскутера, а также аккумулятором 12 В для питания времепролетной
              камеры Kinect 2.0.</font></font></font></p>
      <p><img style="width: 489px; height: 326px;" longdesc="01" title="01" alt="01"
          src="img/chapter4_01.JPG"></p>
      <p>Рисунок 20 – Внешний вид робототехнической платформы спереди</p>
      <p style="margin-right: 0in; text-indent: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Таблица 2 - Характеристики
              платформы собственной разработки</font></font></font></p>
      <table cellpadding="7" cellspacing="0" width="657">
        <colgroup><col width="313"> <col width="313"> </colgroup>
        <tbody>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Габаритные размеры</font></font></font></p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4"><span lang="en-US">600</span>
                      <span lang="en-US">x 600 x 400 </span>мм</font></font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Масса</font></font></font></p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">14 кг</font></font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Максимальная скорость
                      перемещения</font></font></font></p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">2 м<span lang="en-US">/c</span></font></font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Максимальное время
                      автономной работы </font></font></font> </p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">4 ч</font></font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Грузоподъемность</font></font></font></p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">15 кг</font></font></font></p>
            </td>
          </tr>
        </tbody>
      </table>
      <p class="western" style="margin-right: 0in; text-indent: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <br>
      </p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">К гироскутеру присоединяется рама
              (см. рисунок 21), разработанная для крепления третьего ведомого
              колеса, аккумулятора, а также профильной панели. На панели
              крепятся бортовая ЭВМ (электронно-вычислительная машина), стойка с
              времепролетной камерой, контроллер двигателей, переходник для
              питания камеры.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Непосредственно на гироскутере
              установлена электронная плата собственной разработки - коммутатор
              (см. пункт 4.1.2). Коммутатор предназначен для коммутации силовых
              проводов.</font></font></font></p>
      <p><img style="width: 477px; height: 316px;" title="03" alt="03" src="img/chapter4_03.JPG"></p>
      <p>Рисунок 21 - Внешний вид рамы </p>
      <p>Непосредственно на гироскутере установлена электронная плата
        собственной разработки - коммутатор (см. пункт 4.2.1 настоящей работы).
        Коммутатор предназначен для коммутации силовых проводов.</p>
      <h3>4.1.1Анализ работы гироскутера.</h3>
      <p> </p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">На рисунке 22 представлен внешний
              вид гироскутера без облицовочной крышки.</font></font></font></p>
      <p><img style="width: 572px; height: 272px;" longdesc="1" title="1" alt="1"
          src="img/chapter4_1.jpg"></p>
      <p>Рисунок 22 - Внешний вид гироскутера</p>
      <p> </p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">На рисунке 23 представлена
              общая&nbsp;<a href="https://ru.wikipedia.org/wiki/%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%BD%D0%B0%D1%8F_%D1%81%D1%85%D0%B5%D0%BC%D0%B0">структурная</a>&nbsp;схема
устройства
              гироскутера.</font></font></font></p>
      <p></p>
      <p><img style="width: 560px; height: 282px;" longdesc="2" title="2" alt="2"
          src="img/chapter4_2.png"></p>
      <p>Рисунок 23 - Общая структурная схема устройства гироскутера</p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Для того чтобы иметь возможность
              управлять гироскутером, используя внешний блок управления, был
              применен метод описанный в статье [18], позволяющий с помощью
              логического анализатора&nbsp;<span lang="en-US">Saleae</span>Log<span
                lang="en-US">ic</span> и одноименной компьютерной программы <span
                lang="en-US">Saleae</span>Log<span lang="en-US">ic</span>
              [19]&nbsp;проанализировать протокол обмена данными между платами
              гироскопов и основной платой гироскутера. Программа для работы с
              логическим анализатором интерпретирует низкий и высокий логический
              уровни, как передаваемые биты данных.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">С помощью программы была получена
              диаграмма передаваемых с платы гироскопа данных (см. рисунок 24) и
              идентифицирован протокол их передачи.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Протокол<span lang="en-US"> </span>представляет<span
                lang="en-US"> </span>собой<span lang="en-US">&nbsp;<a href="https://geektimes.ru/post/253786/">UART</a>&nbsp;(Universal
Asynchronous
                Receiver-Transmitter). </span>Данные передаются&nbsp;<a href="http://ooep.kpi.ua/microcontrollers/rus/Downloads/LabWork_5.pdf">пакетами</a>&nbsp;по
9
              бит. На диаграмме видна последовательность передаваемых пакетов.</font></font></font></p>
      <p><img style="width: 606px; height: 90px;" title="10" alt="10" src="img/chapter3_10_datagram1.PNG"></p>
      <p>Рисунок 24 -&nbsp; Диаграмма, полученная с помощью программы</p>
      <p><br>
      </p>
      <p> </p>
      <p style="margin-right: 0in; margin-top: 0.06in; margin-bottom: 0.11in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">На рисунке 25 представлена
              передача последнего пакета из последовательности пакетов
              представленных на рисунке 24, на диаграмме (см.&nbsp;рисунок 25)
              видно, что пакет состоит из стартового бита,&nbsp; 9 бит,
              кодирующих число 170 и одного стоп-бита.</font></font></font></p>
      <p><br>
      </p>
      <p><br>
      </p>
      <p>Рисунок 25 - Диаграмма передачи одного пакета</p>
      <p><br>
      </p>
      <p><img style="width: 628px; height: 292px;" longdesc="4" title="4" alt="4"
          src="img/chapter4_4.png"></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">С помощью описанного выше метода
              было установлено, что каждые 300&nbsp;мкс циклически повторяется
              следующая последовательность пакетов:</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"> <font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">- команда разрешения. Имеет два
              значения - 170, при этом число, кодирующее угол наклона платы
              гироскопа, игнорируется в дальнейшем основной платой гироскутера.
              Значение - 85, при этом число, кодирующее угол наклона платы
              гироскопа, обрабатывается основной платой гироскутера;</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"> <font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">- фиксированное число 0;</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">- фиксированное число 0;</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">- фиксированное число 256;</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">- младшие 9 бит числа,
              кодирующего угол наклона платы гироскопа;</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">- старшие 9 бит числа,
              кодирующего угол наклона;</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">- повтор младших бит числа,
              кодирующего угол наклона;</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">- повтор старших бит числа,
              кодирующего угол наклона.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Угол наклона платы гироскопа
              прямопропорционален скважности ШИМ (широтно-импульсная модуляция)
              сигнала, подающегося на обмотки электродвигателя, а следовательно
              угол наклона прямопропорционален и скорости вращения двигателя.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Угол наклона задается 18-битным
              целым числом.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">При анализе работы гироскутера
              замечены особенности управления,</font></font></font></p>
      <p class="western" style="margin-right: 0in; text-indent: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">и выделены два режима работы:</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">- при задании угла наклона одного
              знака с обоих плат гироскопов, скорость двигателей достигает
              пропорциональной углу наклона, после чего через несколько секунд
              двигатели начинают ускоряться до максимально возможной скорости.
              Если угол наклона сохраняется то, скорость двигателей
              увеличивается чтобы компенсировать, наклон человека, управляющего
              гироскутером или чтобы увеличить скорость движения вперед;</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">- при задании угла наклона
              разного знака, скорость каждого из двигателей достигает скорости,
              пропорциональной углу наклона и остается неизменной.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Проведенный анализ работы
              гироскутера показал, что стабильное управление гироскутером с
              помощью задания угла наклона, возможно только при втором режиме
              работы, когда углы наклона плат гироскопов имеют разные знаки и
              двигатели вращаются в разные стороны.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Возникает проблема управления
              гироскутером при движении вперед и назад.</font></font></font></p>
      <h3>4.1.2 Модификация гироскутера.</h3>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Платы гироскопов были удалены.
              Вместо них для подачи команд управления на основную плату
              гироскутера и имитирования сигналов с плат гироскопов была
              установлена плата с микроконтроллером STM32, соединенная с
              бортовой ЭВМ по интерфейсу UART.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Для решения проблемы управления
              гироскутером при движении вперед и назад разработана электронная
              плата - коммутатор, аппаратно меняющая (реверсирующая) направление
              вращения правого двигателя по внешнему сигналу. Это достигается
              переключением фаз одного из двигателей, а также переключением
              сигналов с датчиков Холла, установленных на двигателе. Что
              позволяет задавать движение вперед и назад из второго режима
              работы гироскутера. Общая структурная схема робота после
              модификаций имеет вид, представленный на рисунке 26. </font></font></font>
      </p>
      <h3> </h3>
      <p>Рисунок 26 - общая структурная схема робота</p>
      <p> </p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Здесь и далее, при управлении
              имитируемый угол наклона платы гироскопа считается управляющим
              воздействием, пропорциональным скорости соответствующего
              двигателя.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Схема алгоритма работы программы
              управления двигателями, представлена на рисунке 27.</font></font></font></p>
      <p><img style="width: 385px; height: 531px;" longdesc="5" title="5" alt="5"
          src="img/chapter4_5.png"></p>
      <p>Рисунок 27 - Схема алгоритма работы программы управления двигателями</p>
      <p> </p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Электрическая принципиальная
              схема коммутатора, реверсирующего правый двигатель по внешнему
              управляющему сигналу, представлена на рисунке 28.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"><font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4"><br>
            </font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"><font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4"><br>
            </font></font></font></p>
      <p>Рисунок 28 - Электрическая принципиальная схема коммутатора</p>
      <p>Внешний вид платы коммутатора представлен на рисунке 29.</p>
      <p><img title="4_8" alt="4_8" src="img/chapter4_8.JPG"></p>
      <p>Рисунок 29 - Внешний вид платы коммутатора</p>
      <h3>4.1.3 Разработка протокола управления скоростью двигателей</h3>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Для передачи команд управления с
              бортовой ЭВМ на плату управления двигателями робота разработан
              протокол. Протокол использует интерфейс UART.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Команды управления для моторов
              кодируется однобайтовым числом&nbsp;от 0 до 255.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Диапазон изменения скорости для
              левого и правого моторов: от&nbsp;(минус)&nbsp;7 до 7.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Для левого мотора используются 4
              старших разряда числа, для правого мотора – 4 младших разряда
              числа.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Рассмотрим 4 старших разряда для
              левого мотора:</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">- 1111 – представление в двоичной
              системе счисления.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Самый старший бит задает
              направление вращения колеса, 1 – вперед, 0 – назад.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">При вращении вперед скорость
              задается остальными тремя битами, двоичным числом от 001 до 111,
              т.е. 7 скоростей вперед. 001 – самая медленная, 111 – самая
              быстрая.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Для задания положительной
              скорости вращения назад скорость задается, двоичным числом от 111
              до 001 , т.е. 7 скоростей назад. 111 – самая медленная, 001 –
              самая быстрая.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">То же самое для второго мотора.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Пример принятого байта:</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">- 1000 1000 – оба колеса не
              двигаются;</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">- 1111 1111 – оба колеса вперед,
              с максимальной скоростью;</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">- 0111 0111 – оба колеса назад, с
              минимальной скоростью;</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">- 1001 0111 – левое колесо вперед
              с минимальной скоростью, правое назад с минимальной скоростью;</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">- 0110 1101&nbsp; – левое колесо
              назад со скоростью 2, правое колесо вперед со скоростью 5.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Управляющая команда 0000 0000 –
              инвертировать сигнал разрешения исполнения команд.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Комбинации 10000000 и 00001000 –
              не определены и игнорируются.</font></font></font></p>
      <h3>4.1.4 Бортовая ЭВМ</h3>
      <p> </p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Мобильная платформа оснащена
              бортовой ЭВМ для управления и обработки информации с
              времепролетной камеры. Бортовая ЭВМ представляет собой ноутбук
              модели ASUS S300CA. Выбор осуществлялся из необходимости
              размещения бортовой ЭВМ на мобильной платформе и мощности
              процессора установленного в ЭВМ, исходя из требований для
              использования реализации SLAM <span lang="en-US">RTAB</span>-<span
                lang="en-US">Map</span> [5]. В ЭВМ установлен процессор Intel
              Core i7, 4 Гб оперативной памяти и 500 Гб постоянной памяти.</font></font></font></p>
      <p> </p>
      <h3>4.1.5 Времепролетная камера</h3>
      <p> </p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">В качестве времепролетной в
              задании на выпускную работу была дана камера Microsoft Kinect 2.0,
              обладающая наибольшей коммерческой доступностью и простотой
              использования относительно других камер. Характеристики Microsoft
              Kinect 2.0 приведены в таблице 3.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"><br>
      </p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"><br>
      </p>
      <p style="margin-right: 0in; margin-top: 0.06in; margin-bottom: 0.11in; line-height: 150%; widows: 2; orphans: 2"
        align="center"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Рисунок 30 - Внешний вид
              времепролетной камеры Microsoft Kinect 2.0</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"><br>
      </p>
      <p style="margin-right: 0in; text-indent: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Таблица 3 – Характеристики
              Microsoft Kinect 2.0</font></font></font></p>
      <table cellpadding="7" cellspacing="0" width="650">
        <colgroup><col width="313"> <col width="306"> </colgroup>
        <tbody>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Разрешение цветной камеры</font></font></font></p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="306">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">1080<span lang="en-US">x720</span>
                      пикселей</font></font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Разрешение камеры глубины</font></font></font></p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="306">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">512<span lang="en-US">x424</span>
                      пикселей</font></font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Диапазон измеряемого
                      расстояния</font></font></font></p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="306">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">От 0,5 до 4,5 м</font></font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Горизонтальная зона
                      видимости</font></font></font></p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="306">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">70º</font></font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Вертикальная зона
                      видимости</font></font></font></p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="306">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">60º</font></font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Габаритные размеры </font></font></font>
              </p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="306">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">249 <span lang="en-US">x</span>
                      66 <span lang="en-US">x 67</span> мм</font></font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Масса</font></font></font></p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="306">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">1<span lang="en-US">,4 </span>кг</font></font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Подключение к ЭВМ</font></font></font></p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="306">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Кабель <span lang="en-US">USB
                        3.0 type B</span></font></font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Рабочее напряжение и
                      максимальный потребляемый ток</font></font></font></p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="306">
              <p class="western" style="margin-right: 0in; text-indent: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">12 В, 2<span lang="en-US">,</span>7<span
                        lang="en-US"> </span>А</font></font></font></p>
            </td>
          </tr>
        </tbody>
      </table>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <br>
      </p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4"><span lang="en-US">Microsoft
                Kinect 2.0 </span>работает<span lang="en-US"> </span>по<span lang="en-US">
              </span>принципу<span lang="en-US"> «range gated images»&nbsp;<a href="https://bsn-robotics.github.io/source.html#4_24">[20]</a>.
              </span>В начальный момент времени включается освещение сцены
              инфракрасной подсветкой. Затвор инфракрасного приемника
              закрывается в момент времени t. Тогда объекты, расположенные
              дальше, чем t/(2c), где с – скорость света, не будут видны на
              камере. Свет не успевает отразиться от них до закрытия затвора.
              Точка, расположенная вплотную к камере будет освещаться всё время
              экспозиции t и иметь яркость I. Следовательно, любая точка
              экспозиции будет иметь яркость от 0 до I, и эта яркость будет
              репрезентацией расстояния до точки. Чем ярче точка – тем ближе
              объект. Для увеличения точности и дальности действия в Kinect 2.0
              используется последовательность вспышек с разным временем
              срабатывания затвора приемника.</font></font></font><page size="A4"></page></p>
      <h2>4.2 Программное обеспечение для реализации алгоритмов</h2>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Для реализации разработанных
              алгоритмов выбрана программная платформа ROS (Robot Operating
              System). Выбор ROS для разработки определён по следующим причинам
              – удобство разработки и использования, универсальность,
              модульность, открытый исходный код, возможность использования
              готовых пакетов. Для ROS доступны удобные инструменты сбора
              информации с датчиков в процессе работы системы.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">ROS (Robot Operating
              System)&nbsp;<a href="https://bsn-robotics.github.io/source.html#09">[10]</a>&nbsp;–
мета-операционная
              система для роботов с открытым исходным кодом (лицензия BSD). Он
              не заменяет операционную систему, но расширяет ее набором модулей,
              необходимых для управления робототехническими системами. Основной
              целью ROS является поддержка повторного использования кода в
              робототехнических исследованиях и разработках. ROS состоит из двух
              частей: ядро ROS – минимально необходимый для работы набор
              инструментов, модулей и библиотек; и набор развиваемых
              пользователями пакетов, которые реализуют различные функции
              робототехники: работа с оборудованием, обработка информации,
              моделирование, навигация и многое другое.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Ядро ROS разработано так, чтобы
              как можно меньше зависеть от архитектуры конечной системы. Граф
              вычислений ROS представляет собой одноранговую сеть процессов
              (узлов в терминологии ROS), которые обрабатывают данные совместно.
              Узлы могут обмениваться данными несколькими способами: через
              системные сообщения (темы в терминологии ROS), сервисы или сервер
              параметров. Структура данных и логика обмена может быть любой. При
              старте узлы сообщают свои регистрационные данные мастер-узлу,
              который хранит регистрационную информацию. От него узлы могут
              получить информацию о других зарегистрированных узлах и наладить с
              ними связь напрямую через согласованный протокол обмена (наиболее
              распространен в ROS протокол TCPROS, в основе которого лежит
              TCP/IP (Transmission Control Protocol)). Мастер информирует узлы
              об изменениях в системе ROS, что позволяет динамически создавать
              соединения при старте новых узлов. Узлы могут располагаться на
              различных компьютерах, и топология системы может изменяться в
              процессе работы без необходимости перекомпиляции. В отличие от
              других решений, код ROS максимально гибкий - он не накладывает
              ограничений на тип приложений, использованные узлы, структуру
              связи узлов и цикл работы. ROS не зависит от языка
              программирования, клиентские библиотеки уже реализованы для
              Python, C++, Lisp, существуют экспериментальные библиотеки для
              Java и Lua. Такой подход позволяет ROS легко интегрироваться с
              различными архитектурами и строить системы различной сложности
              поверх нее.</font></font></font></p>
      <h2>4.3 RTAB-Map ROS</h2>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">SLAM алгоритм RTAB-Map имеет
              готовую реализацию в виде подключаемого пакета ROS.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">На рисунке 31 представлен
              результат работы алгоритма RTAB-Map.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"><font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4"><br>
            </font></font></font></p>
      <p>Рисунок 31</p>
      <h2>4.4 Реализация алгоритма обхода 2D графа</h2>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Предложенный алгоритм обхода 2D
              реализован на языке C++ с использованием средств, входящих в
              состав программного пакета ROS. Часть текста программы,
              содержащего функции непосредственно реализующие алгоритм обхода 2<span
                lang="en-US">D</span> графа, представлена в приложении А.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Для визуализации алгоритма
              использована библиотека SFML
              (Simple&nbsp;and&nbsp;Fast&nbsp;Multimedia&nbsp;Library)&nbsp;<a href="https://bsn-robotics.github.io/source.html#4_23">[21]</a>.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Результат работы программы обхода
              2D графа, представлен на рисунке 32.</font></font></font></p>
      <p><img style="width: 468px; height: 346px;" title="4_10" alt="4_10" src="img/chapter4_10.png"></p>
      <p>Рисунок 32 - Результат работы программы обхода 2D графа</p>
      <p><br>
      </p>
      <h2>4.5 Реализация алгоритмов поиска пути и планирования траектории
        движения </h2>
      <p> </p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">В качестве реализации алгоритмов
              поиска пути и планирования траектории выбран стек навигации
              ROS&nbsp;<a href="https://bsn-robotics.github.io/source.html#4_19">[22]</a>.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"><font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Стек навигации является
              концепцией построения графа узлов ROS для реализации алгоритмов 2D
              навигации и набор готовых узлов, реализующих эту задачу. На
              рисунке 33 приведена схема узлов стека навигации ROS.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"><br>
        <img style="width: 559px; height: 228px;" title="4_09" alt="4_09" src="img/chapter4_9.png">
      </p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify">Рисунок 33 - Граф узлов стека навигации ROS</p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Стек навигации ROS состоит из
              пяти элементов – глобальный<br>
              планировщик (global_planner), локальный планировщик
              (local_planner),<br>
              алгоритм построения глобальной карты (global_costmap), алгоритм
              построения локальной карты (local map) и алгоритм восстановления
              (recovery_behaviors).</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Алгоритм построения глобальной
              карты, отвечает за построение<br>
              вспомогательной карты необходимой для глобального планировщика
              пути. В качестве такого планировщика выбран costmap_2d&nbsp;<a href="https://bsn-robotics.github.io/source.html#4_20">[23]</a>,
              он строит весовую сеточную 2D карту на основе 2D сеточной карты,
              полученной, например, алгоритмом SLAM, и датчиков робота с учётом
              геометрических ограничений робота. В использованном алгоритме
              учитывается только радиус круга, обеспечивающий поворот робота без
              коллизий. Ячейки полученной карты содержат значения, отражающие
              возможность центра робота находиться в данной точке от явной
              коллизии до свободного пространства.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Алгоритм построения локальной
              карты выполняет аналогичную функцию, но так как локальная карта
              используется для объезда динамических препятствий, то она строится
              только на основании данных с датчиков, имеет небольшой
              фиксированный размер (в данной работе размер динамического окна
              составляет 2x2 м) и обновляется с большей в несколько раз
              частотой, чем глобальная карта. В качестве алгоритма построения
              локальной карты использовался тот же алгоритм costmap_2d, что и
              для построения глобальной карты, но с другими настройками.
              Глобальный планировщик решает задачу поиска оптимального пути
              движения робота к заданной целевой точке на основании глобальной
              карты. В данном случае используется узел global_planner&nbsp;<a href="https://bsn-robotics.github.io/source.html#4_21">[24]</a>,
              реализующий алгоритмы A* поиска глобального пути на сеточной
              весовой карте. Локальный планировщик отвечает за движение робота
              вдоль глобального пути с учётом особенностей локомоции робота и
              возникающих динамических препятствий на пути движения. В текущей
              разработке используется алгоритм dwa_local_planner&nbsp;<a href="https://bsn-robotics.github.io/source.html#4_22">[25]</a>.</font></font></font></p>
      <p></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Принцип его работы заключается в
              переборе всех возможных управляющих комбинаций линейной и угловой
              скорости в определённых пределах с заданным шагом. Среди всех
              вариантов отбрасываются те варианты, которые приведут к
              столкновению робота с окружающими объектами при движении с
              соответствующей скоростью в течение некоторого времени. Из
              оставшихся вариантов выбирается тот, чей вес на основе значений
              локальной карты и близости к глобальному пути меньше чем у
              остальных.</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Алгоритм восстановления – это
              набор действий, которые совершает<br>
              робот в случае, если локальный или глобальный путь найти не
              удалось. В<br>
              текущей работе использовалась очистка локальной карты и полный
              поворот робота на месте. Такой алгоритм восстановления позволяет
              избавить построенные карты от ошибок, возникших от
              быстродвижущихся динамических препятствий.</font></font></font></p>
      <p><!--На рисунке 28 приведена упрощённая блок-схема узлов ROS разработанной системы.-->
      </p>
      <p> </p>
      <h2>Выводы по разделу</h2>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">В данном разделе приведено
              описание мобильной робототехнической платформы для испытания
              разработанных алгоритмов. Проведено описание использованных
              датчиков для работы разработанной системы. Для работы&nbsp;
              алгоритма автономного преодоления лестничных маршей использовалась
              RGB-D камера Microsoft Kinect 2.0</font></font></font></p>
      <p class="western" style="margin-right: 0in; margin-bottom: 0in; line-height: 150%; widows: 2; orphans: 2"
        align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
              style="font-size: 14pt" size="4">Также в данном разделе проведено
              обоснование выбора программного обеспечения для реализации
              алгоритмов навигации в неизвестной среде.&nbsp; Проведено описание
              использованных программ, как разработанных, так и взятых из
              сообщества ROS.</font></font></font></p>
      <p><br>
      </p>
      <p><br>
      </p>
    </page>
  </body>
</html>
