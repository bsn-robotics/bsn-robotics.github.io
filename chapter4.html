<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" href="style.css" type="text/css">
    <title>4chapter</title>
  </head>
  <body><page size="A4">
      <h1>4 Практическая реализация разработанных алгоритмов</h1>
      <br>
      <!--Диссертация 1 стр 136-->
      <p>Последняя глава диссертации посвящена исследованию навигационной
        системы путем моделирования и с помощью экспериментальных исследований.
        Для этого был разработан пакет программ, который включает в себя ПО
        навигационной системы, драйвер мобильного робота и среду моделирования;
        кроме того, для проведения экспериментов был изготовлен действующий
        макет мобильного робота.<br>
        В навигационной системе реализованы алгоритмы, которые подробно
        рассмотрены в предыдущих главах настоящей диссертационной работы.
        Драйвер мобильного робота служит для получения данных от лазерного
        дальномера и выдачи сигналов управления на приводной уровень<br>
        мобильного робота. Среда моделирования предназначена для<br>
        отладки ПО навигационной системы и исследования алгоритмов навигации
        мобильного робота. Эксперимент позволил подтвердить работоспособность
        каждого алгоритма навигации мобильного робота и системы в целом. Для
        этого был разработан макет мобильного робота,<br>
        однако для повышения достоверности результатов, было проведено несколько
        экспериментов на различных мобильных роботах.</p>
      <!--Диссертация 1 стр 136 конец-->
      <h2>4.1 Робототехническая платформа для испытания разработанных алгоритмов</h2>
      <p>Робот представляет собой трехколесную платформу собственной разработки,
        основой платформы является гироскутер “Smartbalance 10”. Два колеса
        ведущие, третье колесо ведомое (см. рисунки 15, 16). Характеристики
        платформы приведены в таблице 1.</p>
      <p><img style="width: 488px; height: 324px;" longdesc="02" title="02" alt="02"
          src="img/chapter4_02.JPG"></p>
      <p>Рисунок 15 – Внешний вид робототехнической платформы сзади</p>
      <p><img style="width: 489px; height: 326px;" longdesc="01" title="01" alt="01"
          src="img/chapter4_01.JPG"></p>
      <p>Рисунок 16 – Внешний вид робототехнической платформы спереди</p>
      <p>Платформа оснащена бортовым аккумулятором напряжением 36 В для питания
        двух электродвигателей, а также аккумулятором 12 В для питания
        времепролетной камеры Kinect 2.0. </p>
      <p>Таблица 1—Характеристики платформы собственной разработки<br>
      </p>
      <table cellpadding="7" cellspacing="0" width="657">
        <colgroup><col width="313"> <col width="313"> </colgroup>
        <tbody>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Габаритные размеры</font></font></font></p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4"><span lang="en-US">600</span>
                      <span lang="en-US">x 600 x 400 </span>мм</font></font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Масса</font></font></font></p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">14 кг</font></font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Максимальная скорость
                      перемещения</font></font></font></p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">2 м<span lang="en-US">/c</span></font></font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Время автономной работы </font></font></font>
              </p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">4 ч</font></font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">Грузоподъемность</font></font></font></p>
            </td>
            <td style="border: 1px solid #000001; padding-top: 0in; padding-bottom: 0in; padding-left: 0.08in; padding-right: 0.08in"
              width="313">
              <p class="western" style="margin-right: 0in; widows: 2; orphans: 2"
                align="justify"> <font color="#000000"><font face="Times New Roman, serif"><font
                      style="font-size: 14pt" size="4">15 кг</font></font></font></p>
            </td>
          </tr>
        </tbody>
      </table>
      <p><br>
      </p>
      <p>Робот представляет собой трехколесную платформу собственной разработки,
        основой платформы является гироскутер "Smartbalance 10". Два колеса
        гироскутера являются ведущими</p>
      <p>На гироскутере установлена рама, разработанная для крепления третьего
        ведомого колеса, аккумулятора, а также профильной панели. На панели
        крепятся бортовая ЭВМ, стойка с времепролетной камерой, контроллер
        двигателей, переходник для питания камеры.</p>
      <p>Непосредственно на гироскутере установлена электронная плата
        собственной разработки - коммутатор. Коммутатор коммутирует сигнальные и
        силовые провода.</p>
      <p><br>
      </p>
      <p>Предварительно был проведен анализ работы гироскутера.</p>
      <h3>4.1.1Анализ работы гироскутера.</h3>
      <p>На рис. представлен общий вид гироскутера.</p>
      <p><img style="width: 572px; height: 272px;" longdesc="1" title="1" alt="1"
          src="img/chapter4_1.jpg"></p>
      <p>На рис. представлена общая <a href="https://ru.wikipedia.org/wiki/%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%BD%D0%B0%D1%8F_%D1%81%D1%85%D0%B5%D0%BC%D0%B0">структурная</a>
        схема устройства гироскутера.</p>
      <p><img style="width: 560px; height: 282px;" longdesc="2" title="2" alt="2"
          src="img/chapter4_2.png"></p>
      <p>Для того чтобы иметь возможность управлять гироскутером, с помощью
        логического анализатора был проанализирован протокол обмена данными
        между платами гироскопов и основной платой гироскутера.</p>
      <p>В результате протокол был идентифицирован, он представляет собой <a href="https://geektimes.ru/post/253786/">UART</a>
        RS-232, 9 бит, 1 стоп бит.</p>
      <p>Протокол(интерфейс) UART (Universal asynchronous receiver/transmitter)
        или УАПП (универсальный асинхронный приемопередатчик).</p>
      <p>Данные передаются <a href="http://ooep.kpi.ua/microcontrollers/rus/Downloads/LabWork_5.pdf">пакетами</a>
        по 9 бит.</p>
      <p>В таблице представлены характеристики протокола.</p>
      <p>Диаграмма протокола представлена на рис. (заменить рис. заглушку)</p>
      <p><img style="width: 580px; height: 174px;" title="3" alt="3" src="img/chapter4_3.png"></p>
      <p>Каждые 300 мс циклически повторяется следующая последовательность
        пакетов:</p>
      <ol>
        <li>Команда разрешения. Имеет два значения - 170, при этом число,
          кодирующее угол наклона платы гироскопа, игнорируется в дальнейшем
          основной платой гироскутера. Значение - 85, при этом число, кодирующее
          угол наклона платы гироскопа, обрабатывается основной платой
          гироскутера.</li>
        <li>Фиксированное число 0</li>
        <li>Фиксированное число 0</li>
        <li>Фиксированное число 256</li>
        <li>Младшие 9 бит числа, кодирующего угол наклона платы гироскопа.</li>
        <li>Старшие 9 бит числа, кодирующего угол наклона.</li>
        <li>Повтор младших бит числа, кодирующего угол наклона.</li>
        <li>Повтор старших бит числа, кодирующего угол наклона.</li>
      </ol>
      <p>Угол наклона платы гироскопа прямопропорционален скважности ШИМ
        (Широтно-импульсная модуляция) сигнала, подающегося на обмотки
        электродвигателя, а следовательно угол наклона прямопропорционален и
        скорости вращения двигателя. </p>
      <p>Угол наклона задается 18-битным целым числом.</p>
      <p>Изменение угла наклоны платы, показано на рис.</p>
      <p>При анализе работы гироскутера замечены особенности управления, и
        выделены два режима работы:</p>
      <p>1. При задании угла наклона одного знака с обоих плат гироскопов,
        скорость двигателей достигает пропорциональной углу наклона, после чего
        через несколько секунд двигатели начинают ускоряться до максимально
        возможной скорости. Если угол наклона сохраняется то, скорость
        двигателей увеличивается чтобы компенсировать, наклон человека,
        управляющего гироскутером или чтобы увеличить скорость движения вперед.</p>
      <p>2. При задании угла наклона разного знака, скорость каждого из
        двигателей достигает скорости, пропорциональной углу наклона и остается
        неизменной.</p>
      <p>Проведенный анализ работы гироскутера показал, что стабильное
        управление гироскутером с помощью задания угла наклона, возможно только
        при втором режиме работы, когда углы наклона плат гироскопов имеют
        разные знаки и двигатели вращаются в разные стороны.</p>
      <p>Возникает проблема управления гироскутером при движении вперед и назад.</p>
      <h3>4.1.2 Модификация гироскутера.</h3>
      <p>Платы гироскопов были удалены. Вместо них для подачи команд управления
        на основную плату гироскутера и имитирования сигналов с плат гироскопов
        была установлена плата с микроконтроллером STM32, соединенная с бортовой
        ЭВМ по интерфейсу UART RS-232 8 bit.</p>
      <p>Для решения проблемы управления гироскутером при движении вперед и
        назад разработана электронная плата - коммутатор, аппаратно
        меняющая(реверсирующая) направление вращения правого двигателя по
        внешнему сигналу. Это достигается переключением фаз одного из
        двигателей, а также переключением сигналов с датчиков Холла,
        установленных на двигателе. Что позволяет задавать движение вперед и
        назад из второго режима работы гироскутера.</p>
      <p>Здесь и далее, при управлении имитируемый угол наклона платы гироскопа
        считается управляющим воздействием, пропорциональным скорости
        соответствующего двигателя.</p>
      <p>Общая структурная схема робота после модификаций имеет вид,
        представленный на рис.<img style="width: 538px; height: 250px;" longdesc="4"
          title="4" alt="4" src="img/chapter4_4.png"></p>
      <h3> </h3>
      <p>Схема алгоритма работы программы управления двигателями, представлена
        на рис. .</p>
      <p><img style="width: 385px; height: 531px;" longdesc="5" title="5" alt="5"
          src="img/chapter4_5.png"></p>
      <p>Электрическая принципиальная схема коммутатора, реверсирующего правый
        двигатель по внешнему управляющему сигналу, представлена на рис.</p>
      <img style="width: 402px; height: 420px;" longdesc="7" title="7" alt="7" src="img/chapter4_7.png"><br>
      <p>Внешний вид платы коммутатора представлен на рис. (вставить фото) .</p>
      <h3><br>
      </h3>
      <h3>4.1.3 Разработка протокола управления скоростью двигателей</h3>
      <p>Для передачи команд управления с бортовой ЭВМ на плату управления
        двигателями робота разработан протокол. Протокол использует интерфейс
        UART RS-232.</p>
      <table style="width: 100%" border="1">
        <tbody>
          <tr>
            <td>Бодрейт</td>
            <td>9600</td>
          </tr>
          <tr>
            <td>Количество информации в одном пакете </td>
            <td>8 бит</td>
          </tr>
          <tr>
            <td><br>
            </td>
            <td><br>
            </td>
          </tr>
          <tr>
            <td><br>
            </td>
            <td><br>
            </td>
          </tr>
        </tbody>
      </table>
      <p><br>
      </p>
      <p>Команды управления для моторов кодируется однобайтовым числом&nbsp;0 -
        255.</p>
      <p>Диапазон изменения скорости для левого и правого моторов: от -7 до +7.</p>
      <p> Для левого мотора используются 4 старших разряда числа, для правого
        мотора - 4 младших разряда числа.</p>
      <p>Рассмотрим 4 старших разряда для левого мотора:</p>
      <p>1111 - представление в двоичной системе счисления.</p>
      <p>Самый старший бит задает направление вращения колеса, 1 - вперед, 0 -
        назад.</p>
      <p>При вращении вперед скорость задается остальными тремя битами, двоичным
        числом от 001 до 111, т.е. 7 скоростей вперед. 001 - самая медленная,
        111 - самая быстрая.</p>
      <p>Для задания положительной скорости вращения назад скорость задается,
        двоичным числом от 111 до 001 , т.е. 7 скоростей назад. 111 - самая
        медленная, 001 - самая быстрая.</p>
      <p>Тоже самое для второго мотора.</p>
      <p>Пример принятого байта:</p>
      <p>1000 1000 - оба колеса не двигаются.</p>
      <p>1111 1111 - оба колеса вперед, с максимальной скоростью.</p>
      <p>0111 0111 - оба колеса назад, с минимальной скоростью.</p>
      <p>1001 0111 - левое колесо вперед с минимальной скоростью, правое назад с
        минимальной скоростью.</p>
      <p>0110 1101&nbsp; - левое колесо назад со скоростю 2, правое колесо
        вперед со скоростью 5.</p>
      <p>Управляющая команда 0000 0000 - инвертировать сигнал разрешения
        исполнения команд.</p>
      Комбинациии 10000000 и 00001000 - не определены и игнорируются.<br>
      <br>
      <h3>4.1.4 Бортовая ЭВМ</h3>
      <p>Мобильная платформа оснащена бортовой ЭВМ для управления и обработки
        информации с времепролетной камеры. Бортовая ЭВМ представляет собой
        ноутбук модели ASUS S300CA, внешний вид которого представлен на рис.<br>
        Выбор осуществлялся из необходимости размещения бортовой ЭВМ на
        мобильной платформе и мощности процессора установленного в ЭВМ, исходя
        из требований для использования реализации алгоритма SLAM.<br>
        В ЭВМ установлен процессор Intel Core i7, 4 Гб оперативной памяти и
        500Гб постоянной памяти.<br>
        Система технического зрения.<br>
        В качестве времепролетной (TOF) в задании на НИР была дана камера&nbsp;
        Microsoft Kinect 2.0, обладающая наибольшей коммерческой доступностью и
        простотой использования относительно других TOF-видеокамер.
        Характеристики Microsoft Kinect 2.0 приведены в таблице 2.<br>
        Microsoft Kinect 2.0 работает по принципу «range gated images»[]. В
        начальный момент времени включается освещение сцены инфракрасной
        подсветкой. Затвор инфракрасного приемника закрывается в момент времени
        t. Тогда объекты, расположенные дальше, чем t/(2c), где с – скорость
        света, не будут видны на камере . Свет не успевает отразиться от них до
        закрытия затвора. Точка, расположенная вплотную к камере будет
        освещаться всё время экспозиции t и иметь яркость I. Следовательно,
        любая точка экспозиции будет иметь яркость от 0 до I, и эта яркость
        будет репрезентацией расстояния до точки. Чем ярче точка – тем ближе
        объект. Для увеличения точности и дальности действия в Kinect 2.0
        используется последовательность вспышек с разным временем срабатывания
        затвора приемника[].</p>
      <h3>4.1.4 Времепролетная камера</h3>
      <p>В качестве времепролетной (TOF) в задании на НИР была дана камера
        Microsoft Kinect 2.0, обладающая наибольшей коммерческой доступностью и
        простотой использования относительно других TOF-видеокамер.
        Характеристики Microsoft Kinect 2.0 приведены в таблице 2.<br>
        Microsoft Kinect 2.0 работает по принципу «range gated images»[]. В
        начальный момент времени включается освещение сцены инфракрасной
        подсветкой. Затвор ифракрасного приемника закрывается в момент времени
        t. Тогда объекты, расположенные дальше, чем t/(2c), где с – скорость
        света, не будут видны на камере . Свет не успевает отразиться от них до
        закрытия затвора. Точка, расположенная вплотную к камере будет
        освещаться всё время экспозиции t и иметь яркость I. Следовательно,
        любая точка экспозиции будет иметь яркость от 0 до I, и эта яркость
        будет репрезентацией расстояния до точки. Чем ярче точка – тем ближе
        объект. Для увеличения точности и дальности действия в Kinect 2.0
        используется последовательность вспышек с разным временем срабатывания
        затвора приемника[].</p>
      <br>
      <h2>4.2 Программное обеспечение для реализации алгоритмов</h2>
      <p> fdfd</p>
      <p><!--Диссертация 3 стр 23-->Существуют<br>
        библиотеки<br>
        и<br>
        программные<br>
        пакеты,<br>
        помогающие<br>
        разработчику сэкономить силы и время при разработке программного<br>
        обеспечения (ПО) для робота. К ПО для разработки робототехнических
        систем<br>
        предъявляются следующие требования:<br>
         ПО должна позволять разработчику создавать для решения задачи<br>
        вспомогательные модули, которые могут быть тесно связаны с другими<br>
        модулями, внешними библиотеками и т. д. При этом процесс создания<br>
        программы должен быть максимально упрощен, чтобы заниматься<br>
        решением поставленной задачи, а не создания своего собственного<br>
        менеджера пакетов.<br>
         Так как в ходе работы робототехнической системы, на одной машине<br>
        может<br>
        быть<br>
        запущено<br>
        более<br>
        десятка<br>
        тесно<br>
        взаимодействующих<br>
        процессов, ПО должна взять на свои плечи заботу о контроле этого<br>
        взаимодействия, максимально упростив жизнь разработчику.<br>
         Реализации алгоритмов. Сложные системы могут выполнять множество<br>
        функций, например: определение координат ПА, создание карты<br>
        помещения<br>
        на<br>
        основе<br>
        данных<br>
        датчиков,<br>
        автономная<br>
        навигация,<br>
        планирование и т. д. Если реализация алгоритмов не является основной<br>
        целью, то лучше воспользоваться готовыми, максимально совместимыми<br>
        решениями.<br>
        В силу перечисленных выше причин, было решено использовать ПО ROS<br>
        (Robot Operating System), уже не раз упомянутое до этого. Далее будет<br>
        рассмотрены основные принципы работы этого ПО.<br>
        4.1. Robotic Operating System.<br>
        ROS – это фреймворк для программирования роботов, предоставляющий<br>
        функциональность для распределённой работы. ROS был первоначально<br>
        23разработан в 2007 году под названием switchyard в Лаборатории
        Искусственного<br>
        Интеллекта Стэнфордского Университета. В 2008 году развитие продолжается
        в<br>
        Willow Garage, научно-исследовательском институте/инкубаторе
        робототехники,<br>
        совместно с более чем двадцатью сотрудничающими институтами.<br>
        ROS обеспечивает стандартные службы операционной системы, такие как:<br>
        аппаратную абстракцию, низкоуровневый контроль устройств, реализацию<br>
        часто используемых функций, передачу сообщений между процессами, и<br>
        управление пакетами. ROS основан на архитектуре графов, где обработка<br>
        данных происходит в узлах, которые могут получать и передавать сообщения<br>
        между собой. Библиотека ориентирована на Unix-подобные (Ubuntu) системы,<br>
        однако сейчас активно разрабатывается поддержка платформ Windows и
        MacOS.<br>
        Основные достоинства ROS :<br>
         архитектура операционной системы;<br>
         набор поддерживаемых сообществом пакетов (ros-pkg);<br>
         бесплатен для использования в коммерческих и исследовательских<br>
        проектах.<br>
        4.2. Понимание файловой системы ROS. Концепция графов.<br>
        Основной единицей файловой системы является пакет (package). Каждый<br>
        пакет содержит библиотеки, исполняемые файлы, скрипты, и т. д. Для
        каждого<br>
        пакета существует свой манифест (manifest), в котором есть краткое
        описание<br>
        пакета, зависимости между пакетами, и различная мета информация, такая
        как<br>
        версия пакета, лицензия и т.д.<br>
        Введем несколько понятий:<br>
        <br>
        Узел (Node) — некоторый исполняемый процесс, который использует ROS<br>
        для связи с другими узлами.<br>
        24<br>
        Сообщения (Messages) – специальный тип данных ROS используемый<br>
        узлом для публикации или подписки на топики.<br>
        <br>
        Топики (Topics) — узлы могут подписываться на топик, чтобы получать<br>
        сообщения, или публиковать в топик, чтобы отправлять сообщения.<br>
         Мастер (Master) — имя сервиса для ROS.<br>
         rosout – эквивалент stdout/srderr.<br>
        В ROS существует множество инструментов, помогающих программисту в<br>
        процессе разработки и обработки ошибок, можно легко проследить как<br>
        взаимодействуют между собой различные процессы внутри ROS. Пакет Rviz<br>
        является частью ROS, а Gazebo — ROS совместим.<br>
        Рассмотрим пакет tf, который помогает разработчику упростить работу с<br>
        преобразованием<br>
        координат.<br>
        описывается с помощью<br>
        Конфигурация<br>
        робототехнической<br>
        системы<br>
        систем координат, связанных с различными частями<br>
        робота. tf наблюдает за положением систем координат, и позволяет
        определить в<br>
        любой момент времени (от некоторого t=0 и до текущего момента времени)<br>
        положение и ориентацию одной системы координат относительно другой. Для<br>
        этого некоторый узел подписывается на (публикует в) топик tf, таким
        образом<br>
        получая необходимую информацию.<br>
        5. Разработка контроллера 4-колесного мобильного робота.<br>
        Для 4-колесного робота необходимо разработать контроллер, позволяющий<br>
        с помощью определенного оборудования (джойстик, клавиатура) передавать
        ПА<br>
        команды. В ограничениях нашей за</p>
      <!--Диссертация 3 конец--> <br>
      <br>
      <br>
      Для реализации разработанных алгоритмов выбран программный пакет ROS
      (Robot Operating System). Выбор ROS для разработки определён по следующим
      причинам – удобство разработки и использования, универсальность,
      модульность, открытый программный код, возможность использования готовых
      пакетов. Для ROS доступны удобные инструменты сбора информации с датчиков
      в процессе работы системы.<br>
      <br>
      <br>
      4.2.1 Robot Operating System<br>
      <a style="color: #cc0000;" href="%D0%94%D0%B8%D0%BF%D0%BB%D0%BE%D0%BC+%D0%91%D0%B0%D0%BB%D1%82%D0%B0%D1%88%D0%BE%D0%B2%D0%B0">ROS
        (Robot Operating System) [] – программный пакет для роботов с открытым
        исходным кодом (лицензия BSD). Он не заменяет операционную систему, но
        расширяет ее набором модулей, необходимых для управления РТС. </a><br>
      <a style="color: #cc0000;" href="%D0%94%D0%B8%D0%BF%D0%BB%D0%BE%D0%BC+%D0%91%D0%B0%D0%BB%D1%82%D0%B0%D1%88%D0%BE%D0%B2%D0%B0">Основной
        целью ROS является поддержка повторного использованиякода в
        робототехнических исследованиях и разработках. ROS состоит из двух
        частей: ядро ROS – минимально необходимый для работы набор инструментов,
        модулей и библиотек; и набор развиваемых пользователями пакетов, которые
        реализуют различные функции робототехники: работа с оборудованием,
        обработка информации, моделирование, навигация и многое другое.<br>
        Ядро ROS разработано так, чтобы как можно меньше зависеть от архитектуры
        конечной системы. Граф вычислений ROS представляет собой одноранговую
        сеть процессов (узлов в терминологии ROS), которые обрабатывают данные
        совместно. Узлы могут обмениваться данными несколькими способами: через
        системные сообщения (темы в терминологии ROS), сервисы или сервер
        параметров. Структура данных и логика обмена может быть любой. При
        старте узлы сообщают свои регистрационные данные мастер-узлу, который
        хранит регистрационную информацию. От него узлы могут получить
        информацию о других зарегистрированных узлах и наладить с ними связь
        напрямую через согласованный протокол обмена (наиболее распространен в
        ROS протокол TCPROS, в основе которого лежит TCP/IP). Мастер информирует
        узлы об изменениях в системе ROS, что позволяет динамически создавать
        соединения при старте новых узлов. Узлы могут располагаться на различных
        компьютерах, и топология системы может изменяться в процессе работы без
        необходимости перекомпиляции. В отличие от других решений, код ROS
        максимально гибкий - он не накладывает ограничений на тип приложений,
        использованные узлы, структуру связи узлов и цикл работы. <br>
        ROS не зависит от языка программирования, клиентские библиотеки уже
        реализованы для Python, C++, Lisp, существуют экспериментальные
        библиотеки для Java и Lua []. Такой подход позволяет ROS легко
        интегрироваться с различными архитектурами и строить системы различной
        сложности поверх нее.</a><br>
      <br>
      <br>
      <p> 4.2.2 Реализация алгоритма планирования пути<br>
        <a style="color: #cc0000;" href="Baltash"><br>
          Предложенный АМПП реализован на языке C++ с использованием средств,
          входящих в состав программного пакета ROS. На рисунке 8 приведена
          упрощённая блок-схема узлов ROS разработанной системы.</a></p>
      <p> На рисунке представлен результат работы алгоритма RTAB-Map</p>
      <p><br>
      </p>
      <!--Диссертация 3 стр 19-->
      <h3>4.3 Создание виртуальной модели мобильного робота и рабочего
        окружения. </h3>
      <p> Не всегда возможно найти реальное оборудование для исследований. Это
        связано в первую очередь с ценами ПА роботов, датчиков, например, цена
        высокоточный системы лазерных дальномера может доходить до запредельных
        цифр. Так же робототехнические системы являются тонко-настраиваемыми, и
        любая поломка может надолго отложить реальные исследования. Поэтому
        хорошее программное обеспечение, позволяющее визуализировать реальные<br>
        робототехнические системы, позволяют исследователям экономить денежные и
        временные ресурсы. Далее, в работе проведен обзор существующих решений
        для визуализации роботов и рабочего окружения (РО).</p>
      <p>4.3.1. Средства визуализации роботов и рабочей среды.</p>
      <p>В качестве средств визуализации робота и РО были использованы пакеты
        Gazebo и Rviz, которые являются частью пакета Robot Operating System,
        использующийся в данной работе.</p>
      <p>Gazebo позволяет моделировать физические свойства мобильного робота и
        РО, показания различных датчиков и т. д. Rviz позволяет создавать
        виртуальную модель робота и визуализировать данные датчиков, карты,
        маршруты.</p>
      <p>3.2. Ограничения рабочего окружения.<br>
        В качестве основного датчика был выбран 2D лазерный дальномер, что<br>
        накладывает некоторые ограничения на рабочую среду робота:<br>
         поверхность рабочей среды является плоскостью;<br>
         луч лазера параллелен поверхности среды, датчик неподвижно закреплен<br>
        на роботе;<br>
         высота препятствий превосходят высоту, на которой находиться лазерный<br>
        дальномер;<br>
         поверхности объектов среды не являются зеркальными и прозрачными<br>
        поверхностями, гарантируется надежность измерения датчика.<br>
        Введенные ограничения позволяют свести нашу задачу, к задачи<br>
        автономной навигации на плоскости. Упомянутый выше Robotic Operating<br>
        System имеет мощные программные средства, позволяющие решить эту задачу.</p>
      <p><br>
      </p>
      <p><br>
      </p>
      <p>3.3. Виртуальная модель робота.<br>
        Была создана виртуальная модель 4-колесного робота с параметрами<br>
        указанными в таблице 3.</p>
      <p><br>
      </p>
      <h3>Разработка системы автономной навигации.</h3>
      <p>После создания контроллера ПА и создания модуля оценки одометрии, был<br>
        создан модуль автономной навигации мобильного робота. В этой работе<br>
        использованы возможности ROS, которая предлагает решение этой задачи с<br>
        помощью пакета move_base ([19]). Далее в работе рассмотрены свойства и<br>
        организация этого пакеты управления.<br>
        286.1. Пакет move_base.<br>
        Рис 7. Схема конфигурации пакета move_base.<br>
        Рассмотрим компоненты этой схемы:<br>
         Карта (map_server). Узел map_server подает на вход некоторую карту РО,<br>
        эта карта будет использована для построения global_costmap – глобальной<br>
        карты препятствий, по которой затем алгоритм будет решать в каких<br>
        точках стоит прокладывать маршрут.<br>
         Одометрия (odometry source). Необходимо, чтобы через tf модуль мог<br>
        достать преобразование odom → base_link, где base_link — система<br>
        координат связанная с роботом, а odom — система координат, в которой<br>
        происходит движение ПА.<br>
         Координаты мобильного робота (amcl, sensor transforms). Необходимо,<br>
        чтобы с помощью некоторого алгоритма (например, адаптивного метода<br>
        Монте-Карло — amcl, [29],[30]), который через tf предоставляет группу<br>
        последовательных преобразований координат: map → odom → base_link.<br>
        В этой работе, чтобы уменьшить вычислительные затраты, был<br>
        использован пакет fake_localization, который предоставляет те же<br>
        29преобразования в tf, что и amcl, но в отличии от последнего, он<br>
        использует данные о положении робота на карте из симуляции, и как<br>
        следствие экономит вычислительные ресурсы.<br>
         Данные датчиков (sensor sources), которые будут использованы для<br>
        построения local_costmap, которые будут использованы программой для<br>
        обеспечения движения ПА по маршруту.<br>
         global_planner.<br>
        который<br>
        Существует<br>
        используется<br>
        интерфейс<br>
        планировщиками<br>
        nav_core::BaseGlobalPlanner,<br>
        пути.<br>
        Один<br>
        из<br>
        таких<br>
        планировщиков — navfn. Он использует алгоритм Дейкстры для расчета<br>
        минимального пути из начальной точки в конечную.<br>
         local_planner.<br>
        nav_core::BaseLocalPlanner<br>
        предоставляет<br>
        интерфейс<br>
        используемый локальными планировщиками. base_local_planner — один<br>
        из плагинов использующих этот интерфейс. Этот пакет предоставляет<br>
        реализации методов TRA (Trajectory Rollout approach) и DWA(Dynamic<br>
        Window approach) для локальной навигации робота на плоскости.<br>
        Принимая на вход маршрут и карту препятствий (costmap), на выходе<br>
        выдает скорость, которая затем передается контроллеру робота.<br>
        6.2. Поведение робота.<br>
        Рис 8. Схема поведения робота при восстановлении.<br>
        При<br>
        вызове<br>
        move_base<br>
        будет<br>
        пытаться<br>
        30<br>
        обеспечить<br>
        достижениепоставленной пользователем цели в пределах некоторой
        установленной<br>
        пользователем<br>
        погрешности.<br>
        В<br>
        конечном<br>
        итоге,<br>
        move_base<br>
        сообщит<br>
        пользователю о том, что цель достигнута или же поставленная цель<br>
        недостижима. Если робот застревает, то модуль переходит в режим<br>
        восстановления. По умолчанию, move_base выполнит следующие действия,<br>
        чтобы восстановить движение робота:<br>
        1. препятствия за пределами заданной пользователем области будут удалены<br>
        с карты робота; ,<br>
        2. если возможно, робот будет выполнять вращение на месте, чтобы<br>
        очистить пространство перед ним;<br>
        3. если это тоже не удается, робот полностью очистит область карты, в<br>
        которой робот может вращаться;<br>
        4. после этого он продолжит свое вращение.<br>
        Если ничего из вышеуказанного не поможет, цель будет считаться<br>
        недостижимой и её выполнение будет прервано. Пользоват</p>
      <p><br>
        <!--Диссертация 3 конец--></p>
      <p><br>
      </p>
    </page>
  </body>
</html>
