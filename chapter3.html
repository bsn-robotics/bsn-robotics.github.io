<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <title>chapter3</title>
  </head>
  <body>
    <h1>3 Алгоритмы навигации робота</h1>
    <p>Пусть в начальный момент времени робот находится в исходной точке и не
      имеет в памяти данных об окружающей неизвестной среде.<br>
      Задача навигации робота состоит из двух этапов: <br>
      а) составление 3D карты окружающей неизвестной среды;<br>
      б) автономное перемещение в произвольно заданную точку на полностью
      построенной карте.<br>
      Для осуществления навигации робота необходимо реализовать следующую
      последовательность действий, приведенных на рисунке 7.<br>
      Сначала формируется карта зоны непосредственно вокруг робота, путем
      разворота робота на месте на 360 градусов. При этом внешняя среда
      дискретизируется, и каждому участку 3D карты, ставится в соответствие,
      узел 2D графа. Граф представляет собой сетчатую карту занятости и
      позволяет реализовать алгоритм поиска пути. Узлы графа могут иметь три
      значения:<br>
      а) неизвестная территория;<br>
      б) свободный участок;<br>
      в) препятствие.<br>
      Построение 3D карты и 2D графа происходит одновременно с исследованием
      неизвестной среды.<br>
      На следующем шаге алгоритм поиска пути в глубину определяет узел 2D графа,
      в который ему следует переместиться, чтобы исследовать неизвестную среду.
      После чего робот перемещается в координаты на 3D карте, соответствующие
      этому узлу 2D графа. Далее робот циклически выполняет заданную
      последовательность действий, пока не останется неизвестных зон на 2D
      графе, имеющих общее ребро с узлом 2D графа, отмеченного как свободный
      участок.<br>
      <br>
      Рисунок 7 – Последовательность действий для осуществления навигации робота<br>
      3.1 SLAM алгоритм RTAB-Map<br>
      Задача SLAM решается c помощью реализации RTAB-Map.<br>
      Rtab-Map сшивает облако точек, поступающее с Kinect 2.0 , в 3D карту.<br>
      Это достигается за счет использования детектора и дескриптора ключевых
      точек, а также детектора замыкания петель. Принцип работы детектора
      замыкания петель представлен на рисунке 8.<br>
      Также RTAB-Map определяет местоположение робота на 3D карте.<br>
      <br>
      Рисунок 8 – Схема работы детектора замыкания петель RTAB-Map<br>
      <br>
      3.2 Алгоритм перевода 3D карты в 2D граф<br>
      Для перевода 3D карты в 2D граф, необходимо спроецировать облако точек,
      составляющее 3D карту, на плоскость, проходящую на уровне расположения
      камеры перпендикулярно оси Z 3D карты.<br>
      Все объекты находящиеся ниже плоскости, считаются свободным участком.<br>
      Объекты, пересекающие плоскость и находящиеся выше неё считаются
      препятствием.<br>
      Шаг сетки графа, генерируемого RTAB-Map равен 0.05 м.<br>
      Для реализации алгоритма поиска пути в глубину на графе необходимо
      укрупнить шаг сетки графа до величины, превышающей наибольший габарит
      робота на 0.2 м. То есть, до величины 0.8 м.<br>
      3.3 Алгоритм, укрупняющий шаг сетки графа<br>
      Квадрату с длинной стороны равной величине укрупненной сетки графа, в
      центре которого оказался робот в начальный момент времени, будет
      соответствовать узел нового графа, имеющий значение – свободный участок.<br>
      Сетка графа соответствует расположению первого узла нового графа.<br>
      Если в шаг сетки попадает хотя бы один узел исходного графа, имеющий
      значение – препятствие, то узел соответствующий этой клетке, принимает
      значение – препятствие (см. рисунок 9).<br>
      <br>
      <br>
      <br>
      Рисунок 9 – Иллюстрация работы алгоритма. Слева – исходный граф, справа –
      граф с укрупненной сеткой<br>
      <br>
      Красным цветом отмечено положение робота в начальный момент времени, серым
      – неизвестная территория, черным – препятствие.<br>
      3.4 Алгоритм укрупнения сетки графа, сетки занятости<br>
      <br>
      Рисунок 10 – Блок-схема алгоритма укрупнения сетки графа<br>
      <br>
      3.5 Алгоритм поиска пути<br>
      Алгоритм поиска пути используется как на этапе составление 3D карты
      окружающей неизвестной среды, так и на этапе автономного перемещения <br>
      в заданную точку на построенной карте.<br>
      &nbsp;&nbsp;&nbsp; Алгоритм поиска пути в ширину <br>
      <br>
      На выходе получаем последовательность точек (узлов 2D графа) .<br>
      <br>
      Рисунок 11 – 2D граф построенной карты<br>
      <br>
      <br>
      Рисунок 12 – Блок-схема работы алгоритма поиска пути в глубину <br>
      <br>
      3.6 Алгоритм планирования траектории движения робота<br>
      Задачу планирования пути можно свести к задаче планирования 2D пути<br>
      Предложенный алгоритм планирования пути содержит в себе систему хранения и
      воспроизведения 2D карты помещения, построенных<br>
      <br>
      Рисунок 13 – Блок-схема алгоритма планирования траектории движения робота<br>
      <br>
      <br>
      3.7 Алгоритм формирования команд на движение робототехнической платформы</p>
    <p><br>
    </p>
    <p><br>
    </p>
    <h3>Граф посещенных локаций</h3>
    <p>Локации записываются в граф.</p>
    <p><br>
    </p>
    <p><br>
    </p>
    <h3>Алгоритм высокого уровня выбора цели на карте</h3>
    <p>Для примера рассмотрим случай, когда робот занимает на графе 4 клетки (см.
      рис.)</p>
    <p>Радиус обзора равен 10 клеткам.</p>
    <p>В действительности, робот занимает 144 клетки. А радиус обзора составляет
      72 клетки.</p>
    <p><br>
    </p>
    <p><br>
    </p>
    <br>
  </body>
</html>
